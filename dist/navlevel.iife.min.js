(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".navlevel-popup[data-v-ce03094f]{position:relative}.navlevel-popup>div[data-v-ce03094f]{position:absolute;width:max-content;display:none;font-size:80%;top:0;left:0;background-color:var(--background-color, #ddd);border-radius:4px;padding:.5em;z-index:1;box-shadow:1px 1px 5px hsl(0 0 calc(100% * var(--rswiki-dark-mode-enabled, 0)))}li[data-v-8693554a]:hover .navlevel-popup>div,li[data-v-8693554a]:focus-within .navlevel-popup>div{display:block}.priority-sort[data-v-ca757e80]{display:flex;align-items:center;gap:var(--spacing-50, 8px);flex-wrap:wrap}.priority-chip[data-v-ca757e80]{display:inline-flex;align-items:center;padding:var(--spacing-25, 4px) var(--spacing-25, 4px);background-color:var(--background-color-base, #f8f9fa);border:1px solid var(--border-color-subtle, #c8ccd1);border-radius:var(--border-radius-base, 4px);color:var(--color-base, #202122);font-size:var(--font-size-small, .8125rem);font-weight:var(--font-weight-normal, 400);font-family:var(--font-family-system-sans, sans-serif);cursor:pointer;transition:all var(--transition-duration-base, .1s) var(--transition-timing-function-ease-in-out, ease-in-out);white-space:nowrap;-webkit-user-select:none;user-select:none}.priority-chip[data-v-ca757e80]:hover{background-color:var(--background-color-interactive-subtle, #eaecf0);border-color:var(--border-color-interactive, #72777d)}.priority-chip[data-v-ca757e80]:focus{outline:2px solid var(--color-progressive, #36c);outline-offset:2px}.priority-chip[data-v-ca757e80]:active{background-color:var(--background-color-interactive, #eaf3ff);border-color:var(--color-progressive, #36c)}.priority-arrow[data-v-ca757e80]{color:var(--color-subtle, #54595d);font-weight:var(--font-weight-bold, 700);margin:0 var(--spacing-25, 4px)}@media(max-width:768px){.priority-sort[data-v-ca757e80]{gap:var(--spacing-35, 6px)}.priority-arrow[data-v-ca757e80]{margin:0 var(--spacing-15, 2px)}}.navlevel-nav[data-v-457fe817]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.2em 1em}.navlevel-radio-group[data-v-457fe817]{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;padding:2px}a[role=button][data-v-457fe817]{cursor:pointer}.navlevel-sortable .navbox-title{z-index:1}.navbox.navlevel-sortable,.navlevel-sortable .navbox{overflow:visible!important}")),document.head.appendChild(a)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();

/// <reference types="types-mediawiki" />
/// <reference types="types-mediawiki-api" />
mw.loader.using(["vue", "@wikimedia/codex", "ext.gadget.HanAssist"], function(require) {
  const vueModule = require("vue");
  const codexModule = require("@wikimedia/codex");
  
  
  const Vue = vueModule;
  const Codex = codexModule;
  
  // ÂéüÂßã‰ª£Á†Å
  (function(){"use strict";const U="rswiki:NavLevel-data",te="rswiki:NavLevel-levels",z="rswiki:NavLevel-expiry",fe="rswiki:NavLevel-options",Me="https://rs.miraheze.org/";async function J(){const n=await new mw.Api().get({action:"cargoquery",formatversion:2,tables:"Level, Version",fields:"Level.name_zh = name, Level.num = num, Level._pageName = page, Level.type = type, Level.stars = stars, Level.first_came_version = inVer, Level.removed_version = remVer, Level.restored_version = resVer, Level.award = award, Level.diamonds = dia, Version.date = inDate",where:"Level.stars IS NOT NULL AND(Level.type = 'ÂÆòÊñπ' OR Level.type = 'ÂÖ±Âàõ') AND Level._pageName NOT LIKE '%ÔºàÊóßÔºâ'",join_on:"Level.first_came_version = Version._pageName",limit:500});if(!n.cargoquery)return null;const l=n.cargoquery.map(a=>({num:Number(a.title.num),stars:Number(a.title.stars),inVer:a.title.inVer,remVer:a.title.remVer,resVer:a.title.resVer,inDate:a.title.inDate,type:a.title.type,page:a.title.page,name:a.title.name,award:a.title.award,dia:Number(a.title.dia)}));return l.length<210?null:l}async function Te(){const n=localStorage.getItem(U);let l;try{if(!n)throw new Error("No data");l=JSON.parse(n)}catch{}const a=localStorage.getItem(z);if(a&&Number(a)&&Number(a)<Date.now()){console.log("Expired, fetching new data");const r=await J();return r?(localStorage.setItem(U,JSON.stringify(r)),localStorage.setItem(z,String(Date.now()+432e5)),r):l}return l||(l=await J(),l&&(localStorage.setItem(U,JSON.stringify(l)),localStorage.setItem(z,String(Date.now()+432e5))),l)}async function ne(){const n=await fetch(Me+"wiki/Module:NavLevel/levels?action=raw");if(!n.ok)return null;const a=(await n.text()).replace(/^return\s+/,"").replace(/\{/g,"[").replace(/\}/g,"]").replace(/\-\-.*?\n/g,"");try{return JSON.parse(a)}catch{return null}}async function Ae(){let n=mw.storage.getObject(te);return n||(n=await ne(),mw.storage.setObject(te,n,43200),n)}function Fe(n){mw.storage.setObject(fe,n)}function Re(){const n=mw.storage.getObject(fe);return n||null}function ge(n){return mw.config.get("wgPageName").replace(/_/g," ")===n.replace(/_/g," ")}async function je(){const n=await ne(),l=await J();return n&&mw.storage.setObject(te,n,43200),l&&(localStorage.setItem(U,JSON.stringify(l)),localStorage.setItem(z,String(Date.now()+432e5))),{levels:n,data:l}}const he=Object.freeze(Object.defineProperty({__proto__:null,fetchData:J,fetchLevels:ne,getData:Te,getValidLevels:Ae,hotPurge:je,isCurrentPage:ge,loadOptionsFromStorage:Re,saveOptionsToStorage:Fe},Symbol.toStringTag,{value:"Module"}));let p;({convByVar:p}=require("ext.gadget.HanAssist"));const A=new Map;function Ye(n){for(const l of n){const a=l.textContent.trim(),r=decodeURI(l.href.split("wiki/")[1]);A.set(r,a),A.set(a,a),A.set(r.replace(/_/g," "),a),A.set(a.replace(/_/g," "),a)}}function qe(n){return A.get(n)||n}function Ke(n){return p({hans:"ÂÖ±Âàõ",hant:"ÂÖ±Ââµ"})}const we=mw.loader.getState("ext.gadget.separate-space")==="ready";function W(n){return we?" "+n+" ":n}function D(n){return we?n+" ":n}const Ue=Vue.defineComponent,ze=Vue.renderSlot,Je=Vue.createElementVNode,We=Vue.openBlock,Xe=Vue.createElementBlock,He=Vue.nextTick,Ge=Vue.onMounted,_e=Vue.ref,Ze=Ue({__name:"Popup",props:{process:{type:Function}},setup(n){const l=n,a=_e(null),r=_e(null);return Ge(async()=>{await He();const d=r.value,h=d.getBoundingClientRect();h.right>window.innerWidth&&(d.style.top="100%",d.style.left=`${window.innerWidth-h.right-15}px`),h.y<window.innerHeight/2&&(d.style.bottom="100%",d.style.top="unset"),l.process(d)}),(d,h)=>(We(),Xe("span",{class:"navlevel-popup",ref_key:"span",ref:a},[Je("div",{ref_key:"div",ref:r},[ze(d.$slots,"default",{},void 0,!0)],512)],512))}}),X=(n,l)=>{const a=n.__vccOpts||n;for(const[r,d]of l)a[r]=d;return a},Qe=X(Ze,[["__scopeId","data-v-ce03094f"]]),et=Vue.defineComponent,tt=Vue.renderList,nt=Vue.Fragment,H=Vue.openBlock,oe=Vue.createElementBlock,ae=Vue.unref,P=Vue.toDisplayString,ot=Vue.normalizeClass,F=Vue.createElementVNode,ye=Vue.createTextVNode,at=Vue.withCtx,rt=Vue.createBlock,st=Vue.createCommentVNode,lt={class:"hlist"},it=["href","onMouseover","onTouchstart","onFocus","title"],ut={style:{"font-weight":"bold"}},ct=["href"];Vue.reactive;const pt=Vue.ref,re=X(et({__name:"HList",props:{levels:{},usesMwNativePopup:{type:Boolean},showsBirthday:{type:Boolean},processPopup:{type:Function}},setup(n){const l=ge;function a(w){return qe(w.page)}const r=pt(null);function d(w){setTimeout(()=>r.value=w,200)}function h(w){const v=w.inDate;if(v.startsWith("?"))return!1;const i=Number(v.substring(5,7)),N=Number(v.substring(8,10)),f=new Date().toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit"}),c=Number(f.substring(5,7)),g=Number(f.substring(8,10));return i===c&&N===g}return(w,v)=>(H(),oe("ul",lt,[(H(!0),oe(nt,null,tt(n.levels,i=>(H(),oe("li",null,[F("a",{href:ae(l)(i.page)?void 0:`/wiki/${encodeURI(i.page)}`,onMouseover:N=>d(i),onTouchstart:N=>d(i),onFocus:N=>d(i),class:ot(ae(l)(i.page)?"mw-selflink selflink":""),title:n.usesMwNativePopup?a(i):void 0},P(a(i))+P(n.showsBirthday&&h(i)?"üéÇ":""),43,it),r.value===i?(H(),rt(Qe,{key:0,process:N=>n.processPopup(i,N)},{default:at(()=>[F("span",ut,P(`${i.type==="ÂÆòÊñπ"?"Lv.":"Co."}${i.num} ${a(i)} ${"‚òÖ".repeat(i.stars)}`),1),v[0]||(v[0]=F("br",null,null,-1)),ye(" "+P(`${i.award==="crown"?"3üëë ":i.award==="present"?"10üéÅ ":""}${i.dia}üíé`)+" ",1),v[1]||(v[1]=F("br",null,null,-1)),F("a",{href:"/wiki/"+i.inVer},P(i.inVer),9,ct),ye(P(`(${i.inDate||"????-??-??"})${ae(p)({hans:"ÁâàÊú¨Âä†ÂÖ•Ê∏∏Êàè",hant:"ÁâàÊú¨Âä†ÂÖ•ÈÅäÊà≤"})}`),1)]),_:2},1032,["process"])):st("",!0)]))),256))]))}}),[["__scopeId","data-v-8693554a"]]),dt=Vue.useModel,Ve=Vue.mergeModels,vt=Vue.defineComponent,mt=Vue.renderList,be=Vue.Fragment,G=Vue.openBlock,Z=Vue.createElementBlock,ft=Vue.toDisplayString,gt=Vue.createElementVNode,ht=Vue.createCommentVNode,wt={class:"priority-sort",role:"list","aria-label":"‰ºòÂÖàÁ∫ßÊéíÂ∫è"},_t=["onClick","onKeydown","aria-label"],yt={key:0,class:"priority-arrow","aria-hidden":"true"};Vue.computed;const se=Vue.nextTick,Vt=X(vt({__name:"PrioritySort",props:Ve({labelMap:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:Ve(["update:modelValue"],["update:modelValue"]),setup(n,{emit:l}){const a=n,r=dt(n,"modelValue"),d=l,h=f=>a.labelMap[f]||f,w=(f,c)=>{i(f.currentTarget,c),d("update:modelValue",r.value)},v=(f,c)=>{const g=f.currentTarget;switch(f.key){case"Enter":case" ":f.preventDefault(),i(g,c);break;case"ArrowLeft":f.preventDefault(),N(g,c);break;case"ArrowRight":f.preventDefault(),E(g,c);break}d("update:modelValue",r.value)},i=(f,c)=>{if(c<=0)return;const[g]=r.value.splice(c,1);r.value.unshift(g);const y=f.parentElement;se(()=>{Array.from(y?.querySelectorAll(".priority-chip")||[])[0]?.focus()})},N=(f,c)=>{if(c<=0)return;const g=f.parentElement,y=r.value[c];r.value[c]=r.value[c-1],r.value[c-1]=y,se(()=>{Array.from(g?.querySelectorAll(".priority-chip")||[])[c-1]?.focus()})},E=(f,c)=>{if(c>=r.value.length-1)return;const g=f.parentElement,y=r.value[c];r.value[c]=r.value[c+1],r.value[c+1]=y,se(()=>{Array.from(g?.querySelectorAll(".priority-chip")||[])[c+1]?.focus()})};return(f,c)=>(G(),Z("div",wt,[(G(!0),Z(be,null,mt(r.value,(g,y)=>(G(),Z(be,{key:g},[gt("button",{type:"button",class:"priority-chip",onClick:C=>w(C,y),onKeydown:C=>v(C,y),"aria-label":`${h(g)}ÔºåÁÇπÂáªËÆæ‰∏∫Á¨¨‰∏Ä‰ºòÂÖàÁ∫ßÔºåÂ∑¶Âè≥ÁÆ≠Â§¥ÈîÆÁßªÂä®‰∏Ä‰Ωç`},ft(h(g)),41,_t),y<r.value.length-1?(G(),Z("span",yt,">")):ht("",!0)],64))),128))]))}}),[["__scopeId","data-v-ca757e80"]]);function Ne(n,l){return Object.keys(n).every(a=>l.hasOwnProperty(a))}function bt(n,l,a,r,d){const h=[];if(window.NavLevel){if(window.NavLevel.Sorting&&window.NavLevel.sortingFunctions){if(!Ne(window.NavLevel.sortingFunctions,window.NavLevel.Sorting))throw new Error("Sorting methods and functions do not match.");Object.assign(n,window.NavLevel.Sorting),Object.assign(l,window.NavLevel.sortingFunctions)}for(const w in n)a.includes(w)||a.push(w);if(window.NavLevel.Grouping&&window.NavLevel.groupingFunctions){if(!Ne(window.NavLevel.groupingFunctions,window.NavLevel.Grouping))throw new Error("Grouping methods and functions do not match.");Object.assign(r,window.NavLevel.Grouping),Object.assign(d,window.NavLevel.groupingFunctions)}window.NavLevel.processPopup&&h.push(window.NavLevel.processPopup),console.log("Ê£ÄÊµãÂà∞window.NavLevelÔºåÂ∑≤ÂêàÂπ∂")}return window.NavLevel={Sorting:n,sortingFunctions:l,Grouping:r,groupingFunctions:d,set processPopup(w){h.push(w)}},(w,v)=>{h.forEach(i=>i(w,v))}}const Nt=Vue.defineComponent,b=Vue.createElementVNode,m=Vue.unref,S=Vue.toDisplayString,Se=Vue.withModifiers,$e=Vue.withKeys,x=Vue.createTextVNode,I=Vue.renderList,L=Vue.Fragment,_=Vue.openBlock,V=Vue.createElementBlock,R=Vue.withCtx,Ee=Vue.createBlock,O=Vue.createVNode,le=Vue.normalizeClass,Q=Vue.createCommentVNode,St={class:"navbox-above navbox-cell navbox-sole-row"},$t=["onKeydown"],Et={class:"navbox-above navbox-cell navbox-sole-row navlevel-nav"},Lt={class:"navlevel-radio-group"},kt={class:"navlevel-radio-group"},xt={class:"navlevel-radio-group"},Ct={class:"navlevel-radio-group"},Dt={class:"navlevel-radio-group"},Bt={class:"navbox-group navbox-cell"},Ot=["title"],Pt={key:0,class:"navbox-group navbox-cell"},It=["title"],Mt={key:1,class:"navbox navbox-list navbox-cell navbox-level-1 mobileplainbox"},Tt={key:0,class:"navbox-group navbox-cell"},At=["title"],Le=Codex.CdxCheckbox,ie=Codex.CdxRadio,Ft=Vue.onBeforeUpdate,Rt=Vue.onMounted,ke=Vue.reactive,k=Vue.ref,xe=Vue.watch,jt=X(Nt({__name:"Main",props:{recvData:{},recvLevels:{},preserveElements:{},preserveBeforeElements:{},titleElement:{}},setup(n){const l=he,{saveOptionsToStorage:a,loadOptionsFromStorage:r}=l,d=n,h=k(d.recvData),w=k(d.recvLevels),v=ke({type:p({hans:"Á±ªÂûã",hant:"È°ûÂûã"}),era:p({hans:"Êó∂Êúü",hant:"ÊôÇÊúü"}),stars:p({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),version:p({hans:"ÁâàÊú¨",hant:"ÁâàÊú¨"}),present:p({hans:"Â•ñÂä±ÊñπÂºè",hant:"ÁçéÂãµÊñπÂºè"}),year:p({hans:"Âπ¥‰ªΩ",hant:"Âπ¥‰ªΩ"}),none:p({hans:"Êó†",hant:"ÁÑ°"})});xe(v,()=>{Promise.resolve().then(B)});const i=ke({num:p({hans:"ÁºñÂè∑",hant:"Á∑®Ëôü"}),name:p({hans:"ÂêçÁß∞",hant:"ÂêçÁ®±"}),stars:p({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),date:p({hans:"Êó•Êúü",hant:"Êó•Êúü"}),default:p({hans:"ÈªòËÆ§",hant:"È†êË®≠"})});xe(i,()=>{Promise.resolve().then(B)});const N={asc:"ÂçáÂ∫è",desc:"ÈôçÂ∫è"},E=r();function f(t){return t in i}function c(t){return t in N}const g=k(E?.grouping1??"type"),y=k(E?.grouping2??"stars"),C=(t,e)=>t in v?t:e,ee=k(E?.direction&&c(E.direction)?E.direction:"asc"),j=k(!1),M=k(E?.showsBirthday??!1),Ce=["default","num","date","name","stars"],Y=k(E?.sortingPriority??Ce),qt=t=>t.some(e=>!f(e))?Ce:(t.length!==Object.keys(i).length&&t.push(...Object.keys(i).filter(e=>!t.includes(e))),t),q=k(null),K=k(null),T=k({});Rt(()=>{if(K.value&&d.preserveBeforeElements?.length){let t=K.value;d.preserveBeforeElements.forEach(e=>{e&&t.parentNode&&(t.parentNode.insertBefore(e,t),t=e)})}if(q.value&&d.preserveElements?.length){let t=q.value;d.preserveElements.forEach(e=>{e&&t&&t.parentNode&&(t.parentNode.insertBefore(e,t.nextSibling),t=e)})}q.value&&q.value.remove(),K.value&&K.value.remove(),B()});function Kt(t){return Oe[t]||(()=>0)}function De(t,e){const s=qt(Y.value);for(let o=0;o<s.length;o++){const u=Kt(s[o])(t,e);if(u!==0)return u*(ee.value==="asc"?1:-1)}return 0}const Be={era(t){return[{group:"Ëæ£Ê§í",list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num<=7)},{group:p({hans:"ÁåéË±π",hant:"ÁçµË±π"}),list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num>7&&e.num<=94)},{group:p({hans:"Á±≥È∫¶",hant:"Á±≥È∫•"}),list:t.filter(e=>e.type==="ÂÖ±Âàõ"||e.type==="ÂÆòÊñπ"&&e.num>94)}]},version(t){const e=new Set;return t.forEach(o=>e.add(o.inVer.substring(0,1))),e.delete("3"),Array.from(e).sort((o,u)=>o.localeCompare(u)).map(o=>({group:o==="2"?"2.x / 3.x":o+".x",list:o==="2"?t.filter(u=>u.inVer.startsWith("2")||u.inVer.startsWith("3")):t.filter(u=>u.inVer.startsWith(o))}))},type(t){return[{group:"ÂÆòÊñπ",list:t.filter(e=>e.type==="ÂÆòÊñπ")},{group:Ke(),list:t.filter(e=>e.type==="ÂÖ±Âàõ")}]},stars(t){const e=new Set;return t.forEach(o=>e.add(o.stars)),Array.from(e).sort((o,u)=>o-u).map(o=>({group:D(o.toString())+"Êòü",list:t.filter(u=>u.stars===o)}))},year(t){const e=new Set;t.forEach(u=>e.add(u.inDate.substring(0,4)));const s=new Set;return e.forEach(u=>{u.trim()===""&&s.add(u)}),s.forEach(u=>e.delete(u)),Array.from(e).sort((u,me)=>parseInt(u)-parseInt(me)).map(u=>({group:u,list:t.filter(me=>me.inDate.startsWith(u))}))},present(t){const e=t.filter(o=>!["crown","present","none"].includes(o.award)),s=[{group:"ÁöáÂÜ†",list:t.filter(o=>o.award==="crown")},{group:"Á•ûÁßòÁÆ±",list:t.filter(o=>o.award==="present")},{group:p({hans:"Êó†",hant:"ÁÑ°"}),list:t.filter(o=>o.award==="none")}];return e.length>0&&s.push({group:p({hans:"Êú™Áü•",hant:"Êú™Áü•"}),list:e}),s},none(t){return t}},Oe={num:(t,e)=>t.type===e.type?t.num-e.num:t.type==="ÂÆòÊñπ"?-1:1,name:(t,e)=>t.name.localeCompare(e.name),stars:(t,e)=>t.stars-e.stars,date:(t,e)=>t.inDate.localeCompare(e.inDate),default:(t,e)=>{const s=w.value;return s.indexOf(t.page)-s.indexOf(e.page)}},ue=bt(i,Oe,Y.value,v,Be);function Ut(t,e){return Be[e](t)}function ce(t,e){return Ut(t,e).map(s=>(s.list=s.list.sort(De),s))}let Pe=0;const zt=()=>{Pe=0};function Ie(){a({grouping1:g.value,grouping2:y.value,sortingPriority:Y.value,direction:ee.value,showsBirthday:M.value})}function B(){console.log("Sorting...");const t=C(g.value,"type"),e=C(y.value,"stars");t===e&&e!=="none"&&(y.value=t==="stars"?"type":"stars"),t==="none"&&(y.value="none"),Ie();const s=h.value;if(t==="none"){T.value=[...s].sort(De);return}else e==="none"?T.value=ce(s,t):T.value=ce(s,t).map(o=>(o.list=ce(o.list,e),o))}function pe(){return++Pe%2?"navbox-odd":"navbox-even"}async function de(){const{levels:t,data:e}=await l.hotPurge();t?w.value=t:mw.notify(p({hans:"Ëé∑ÂèñÂêàÊ≥ïÂÖ≥Âç°ÂàóË°®Â§±Ë¥•„ÄÇ",hant:"Áç≤ÂèñÂêàÊ≥ïÈóúÂç°ÂàóË°®Â§±Êïó„ÄÇ"}),{type:"error"}),e?h.value=e:mw.notify(p({hans:`Ëé∑ÂèñÂÖ≥Âç°${W("Cargo")}Êï∞ÊçÆÂ§±Ë¥•„ÄÇ`,hant:`Áç≤ÂèñÈóúÂç°${W("Cargo")}Êï∏ÊìöÂ§±Êïó„ÄÇ`}),{type:"error"}),(t||e)&&mw?.notify?.(p({hans:`Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞„ÄÇ${D(h.value.length)}Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºå${D(w.value.length)}‰∏™ÂÖ≥Âç°„ÄÇ`,hant:`Êï∏ÊìöÂ∑≤Êõ¥Êñ∞„ÄÇ${D(h.value.length)}Ê¢ùÊï∏ÊìöË®òÈåÑÔºå${D(w.value.length)}ÂÄãÈóúÂç°„ÄÇ`})),B()}Ft(()=>{zt()});const ve=p({hans:"ÂÖ≥",hant:"Èóú"});return(t,e)=>(_(),V(L,null,[b("div",{ref_key:"markerBefore",ref:K},null,512),b("div",St,[x(S(m(p)({hans:`Êú¨Êô∫ËÉΩÊéíÂ∫è‰∏∫ÂÆûÈ™åÊÄßÂäüËÉΩ„ÄÇÂΩìÂâçËé∑ÂèñÂà∞${m(W)(h.value.length)}‰∏™ÂÖ≥Âç°ÁöÑÊï∞ÊçÆ„ÄÇ`,hant:`Êú¨Êô∫ËÉΩÊéíÂ∫èÁÇ∫ÂØ¶È©óÊÄßÂäüËÉΩ„ÄÇÁï∂ÂâçÁç≤ÂèñÂà∞${m(W)(h.value.length)}ÂÄãÈóúÂç°ÁöÑÊï∏Êìö„ÄÇ`}))+" Ôºà",1),b("a",{onClick:de,onKeydown:[$e(Se(de,["prevent"]),["enter"]),$e(Se(de,["prevent"]),["space"])],role:"button",tabindex:"0"},S(m(p)({hans:"Ê∏ÖÈô§ÁºìÂ≠ò",hant:"Ê∏ÖÈô§Âø´Âèñ"})),41,$t),e[8]||(e[8]=x("Ôºâ ",-1))]),b("div",Et,[b("div",Lt,[x(S(m(p)({hans:"‰∏ÄÁ∫ßÂàÜÁªÑÔºö",hant:"‰∏ÄÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(L,null,I(v,(s,o)=>(_(),Ee(m(ie),{"model-value":g.value,"onUpdate:modelValue":[e[0]||(e[0]=u=>g.value=u),B],"input-value":o,name:"grouping1",inline:!0},{default:R(()=>[x(S(v[o]),1)]),_:2},1032,["model-value","input-value"]))),256))]),b("div",kt,[x(S(m(p)({hans:"‰∫åÁ∫ßÂàÜÁªÑÔºö",hant:"‰∫åÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(L,null,I(v,(s,o)=>(_(),Ee(m(ie),{"model-value":y.value,"onUpdate:modelValue":[e[1]||(e[1]=u=>y.value=u),B],"input-value":o,name:"grouping2",inline:!0,disabled:o!==g.value==(g.value==="none")},{default:R(()=>[x(S(v[o]),1)]),_:2},1032,["model-value","input-value","disabled"]))),256))]),b("div",xt,[x(S(m(p)({hans:"ÊéíÂ∫èÔºö",hant:"ÊéíÂ∫èÔºö"}))+" ",1),O(Vt,{modelValue:Y.value,"onUpdate:modelValue":[e[2]||(e[2]=s=>Y.value=s),e[3]||(e[3]=s=>B())],"label-map":i},null,8,["modelValue","label-map"])]),b("div",Ct,[(_(),V(L,null,I(N,(s,o)=>O(m(ie),{name:"direction","input-value":o,"model-value":ee.value,"onUpdate:modelValue":[e[4]||(e[4]=u=>ee.value=u),B],inline:!0},{default:R(()=>[x(S(N[o]),1)]),_:2},1032,["input-value","model-value"])),64))]),b("div",Dt,[O(m(Le),{inline:!0,"model-value":j.value,"onUpdate:modelValue":e[5]||(e[5]=s=>j.value=s)},{default:R(()=>[x(S(m(p)({hans:"ÊòæÁ§∫MediaWikiÂéüÁîüÂºπÂá∫Ê°Ü",hant:"È°ØÁ§∫MediaWikiÂéüÁîüÂΩàÂá∫Ê°Ü"})),1)]),_:1},8,["model-value"]),O(m(Le),{inline:!0,"model-value":M.value,"onUpdate:modelValue":[e[6]||(e[6]=s=>M.value=s),e[7]||(e[7]=s=>Ie())]},{default:R(()=>[x(S(m(p)({hans:"Ê†áËÆ∞ÁîüÊó•Âú®‰ªäÊó•ÔºàUTC+8ÔºâÁöÑÂÖ≥Âç°",hant:"Ê®ôË®òÁîüÊó•Âú®‰ªäÊó•ÔºàÊåâUTC+8ÔºâÁöÑÈóúÂç°"})),1)]),_:1},8,["model-value"])])]),g.value==="none"?(_(),V("div",{key:0,class:le("navbox-list navbox-sole-row "+pe())},[O(re,{levels:T.value,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)):(_(),V(L,{key:1},[y.value==="none"?(_(!0),V(L,{key:0},I(T.value,s=>(_(),V(L,null,[b("div",Bt,[b("span",{class:"navbox-group-flex-inner",title:`${m(D)(s.list.length)}${m(ve)}`},S(s.group),9,Ot)]),b("div",{class:le("navbox-list navbox-cell "+pe())},[O(re,{levels:s.list,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)],64))),256)):(_(!0),V(L,{key:1},I(T.value,s=>(_(),V(L,null,[s.list.length>0?(_(),V("div",Pt,[b("span",{class:"navbox-group-flex-inner",title:`${m(D)(s.list.reduce((o,u)=>o+u.list.length,0))}${m(ve)}`},S(s.group),9,It)])):Q("",!0),s.list.length>0?(_(),V("div",Mt,[(_(!0),V(L,null,I(s.list,o=>(_(),V(L,null,[o.list.length>0?(_(),V("div",Tt,[b("span",{class:"navbox-group-flex-inner",title:`${m(D)(o.list.length)}${m(ve)}`},S(o.group),9,At)])):Q("",!0),o.list.length>0?(_(),V("div",{key:1,class:le("navbox-list navbox-cell "+pe())},[O(re,{levels:o.list,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)):Q("",!0)],64))),256))])):Q("",!0)],64))),256))],64)),b("div",{ref_key:"mark",ref:q},null,512)],64))}}),[["__scopeId","data-v-457fe817"]]);async function Yt(){const n=he,{getData:l,getValidLevels:a}=n;try{const[r,d]=await Promise.all([l(),a()]);if(!r||!d){mw.notify("Failed to fetch qualified data",{type:"error"});return}const h=document.querySelectorAll(".navlevel-sortable:not(.navlevel-sortable-processed)");$.each(h,async(w,v)=>{Ye(Array.from(v.querySelectorAll("a[href]")));const i=Array.from(v.querySelectorAll(".navlevel-sortable-preserve")),N=Array.from(v.querySelectorAll(".navlevel-sortable-preserve-before"));[...i,...N].forEach(c=>{c.parentNode&&c.parentNode.removeChild(c)});const E=$(v);E.empty(),E.addClass("navlevel-sortable-processed"),Vue.createApp(jt,{recvData:r,recvLevels:d,preserveElements:i,preserveBeforeElements:N,titleElement:v.querySelector(".navbox-title")||document.createElement("div")}).mount(v)})}catch(r){console.error("Failed to initialize NavLevel:",r),mw.notify("Failed to initialize NavLevel: "+r.message,{type:"error"})}}mw.hook("wikipage.content").add(Yt)})();

  
});

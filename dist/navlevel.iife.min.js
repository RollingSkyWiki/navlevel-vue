(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".navlevel-popup[data-v-ce03094f]{position:relative}.navlevel-popup>div[data-v-ce03094f]{position:absolute;width:max-content;display:none;font-size:80%;top:0;left:0;background-color:var(--background-color, #ddd);border-radius:4px;padding:.5em;z-index:1;box-shadow:1px 1px 5px hsl(0 0 calc(100% * var(--rswiki-dark-mode-enabled, 0)))}li[data-v-4c2d2632]:hover .navlevel-popup>div,li[data-v-4c2d2632]:focus-within .navlevel-popup>div{display:block}.priority-sort[data-v-ca757e80]{display:flex;align-items:center;gap:var(--spacing-50, 8px);flex-wrap:wrap}.priority-chip[data-v-ca757e80]{display:inline-flex;align-items:center;padding:var(--spacing-25, 4px) var(--spacing-25, 4px);background-color:var(--background-color-base, #f8f9fa);border:1px solid var(--border-color-subtle, #c8ccd1);border-radius:var(--border-radius-base, 4px);color:var(--color-base, #202122);font-size:var(--font-size-small, .8125rem);font-weight:var(--font-weight-normal, 400);font-family:var(--font-family-system-sans, sans-serif);cursor:pointer;transition:all var(--transition-duration-base, .1s) var(--transition-timing-function-ease-in-out, ease-in-out);white-space:nowrap;-webkit-user-select:none;user-select:none}.priority-chip[data-v-ca757e80]:hover{background-color:var(--background-color-interactive-subtle, #eaecf0);border-color:var(--border-color-interactive, #72777d)}.priority-chip[data-v-ca757e80]:focus{outline:2px solid var(--color-progressive, #36c);outline-offset:2px}.priority-chip[data-v-ca757e80]:active{background-color:var(--background-color-interactive, #eaf3ff);border-color:var(--color-progressive, #36c)}.priority-arrow[data-v-ca757e80]{color:var(--color-subtle, #54595d);font-weight:var(--font-weight-bold, 700);margin:0 var(--spacing-25, 4px)}@media(max-width:768px){.priority-sort[data-v-ca757e80]{gap:var(--spacing-35, 6px)}.priority-arrow[data-v-ca757e80]{margin:0 var(--spacing-15, 2px)}}.navlevel-nav[data-v-325ead55]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.2em 1em}.navlevel-radio-group[data-v-325ead55]{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;padding:2px}a[role=button][data-v-325ead55]{cursor:pointer}.navlevel-sortable .navbox-title{z-index:1}.navbox.navlevel-sortable,.navlevel-sortable .navbox{overflow:visible!important}")),document.head.appendChild(a)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();

/// <reference types="types-mediawiki" />
/// <reference types="types-mediawiki-api" />
mw.loader.using(["vue", "@wikimedia/codex", "ext.gadget.HanAssist"], function(require) {
  const vueModule = require("vue");
  const codexModule = require("@wikimedia/codex");
  
  
  const Vue = vueModule;
  const Codex = codexModule;
  
  // ÂéüÂßã‰ª£Á†Å
  (function(){"use strict";const j="rswiki:NavLevel-data",ee="rswiki:NavLevel-levels",q="rswiki:NavLevel-expiry",fe="rswiki:NavLevel-options",De="https://rs.miraheze.org/";async function K(){const n=await new mw.Api().get({action:"cargoquery",formatversion:2,tables:"Level, Version",fields:"Level.name_zh = name, Level.num = num, Level._pageName = page, Level.type = type, Level.stars = stars, Level.first_came_version = inVer, Level.removed_version = remVer, Level.restored_version = resVer, Level.award = award, Level.diamonds = dia, Version.date = inDate",where:"Level.stars IS NOT NULL AND(Level.type = 'ÂÆòÊñπ' OR Level.type = 'ÂÖ±Âàõ') AND Level._pageName NOT LIKE '%ÔºàÊóßÔºâ'",join_on:"Level.first_came_version = Version._pageName",limit:500});if(!n.cargoquery)return null;const i=n.cargoquery.map(r=>({num:Number(r.title.num),stars:Number(r.title.stars),inVer:r.title.inVer,remVer:r.title.remVer,resVer:r.title.resVer,inDate:r.title.inDate,type:r.title.type,page:r.title.page,name:r.title.name,award:r.title.award,dia:Number(r.title.dia)}));return i.length<210?null:i}async function Oe(){const n=localStorage.getItem(j);let i;try{if(!n)throw new Error("No data");i=JSON.parse(n)}catch{}const r=localStorage.getItem(q);if(r&&Number(r)&&Number(r)<Date.now()){console.log("Expired, fetching new data");const a=await K();return a?(localStorage.setItem(j,JSON.stringify(a)),localStorage.setItem(q,String(Date.now()+432e5)),a):i}return i||(i=await K(),i&&(localStorage.setItem(j,JSON.stringify(i)),localStorage.setItem(q,String(Date.now()+432e5))),i)}async function te(){const n=await fetch(De+"wiki/Module:NavLevel/levels?action=raw");if(!n.ok)return null;const r=(await n.text()).replace(/^return\s+/,"").replace(/\{/g,"[").replace(/\}/g,"]").replace(/\-\-.*?\n/g,"");try{return JSON.parse(r)}catch{return null}}async function Be(){let n=mw.storage.getObject(ee);return n||(n=await te(),mw.storage.setObject(ee,n,43200),n)}function Ie(n){mw.storage.setObject(fe,n)}function Me(){const n=mw.storage.getObject(fe);return n||null}function ge(n){return mw.config.get("wgPageName").replace(/_/g," ")===n.replace(/_/g," ")}async function Te(){const n=await te(),i=await K();return n&&mw.storage.setObject(ee,n,43200),i&&(localStorage.setItem(j,JSON.stringify(i)),localStorage.setItem(q,String(Date.now()+432e5))),{levels:n,data:i}}const he=Object.freeze(Object.defineProperty({__proto__:null,fetchData:K,fetchLevels:te,getData:Oe,getValidLevels:Be,hotPurge:Te,isCurrentPage:ge,loadOptionsFromStorage:Me,saveOptionsToStorage:Ie},Symbol.toStringTag,{value:"Module"}));let p;({convByVar:p}=require("ext.gadget.HanAssist"));const M=new Map;function Ae(n){for(const i of n){const r=i.textContent.trim(),a=decodeURI(i.href.split("wiki/")[1]);M.set(a,r),M.set(r,r),M.set(a.replace(/_/g," "),r),M.set(r.replace(/_/g," "),r)}}function Fe(n){return M.get(n)||n}function Re(n){return p({hans:"ÂÖ±Âàõ",hant:"ÂÖ±Ââµ"})}const _e=mw.loader.getState("ext.gadget.separate-space")==="ready";function z(n){return _e?" "+n+" ":n}function C(n){return _e?n+" ":n}const Ye=Vue.defineComponent,je=Vue.renderSlot,qe=Vue.createElementVNode,Ke=Vue.openBlock,ze=Vue.createElementBlock,Je=Vue.nextTick,Xe=Vue.onMounted,we=Vue.ref,He=Ye({__name:"Popup",props:{process:{type:Function}},setup(n){const i=n,r=we(null),a=we(null);return Xe(async()=>{await Je();const c=a.value,d=c.getBoundingClientRect();d.right>window.innerWidth&&(c.style.top="100%",c.style.left=`${window.innerWidth-d.right-15}px`),d.y<window.innerHeight/2&&(c.style.bottom="100%",c.style.top="unset"),i.process(c)}),(c,d)=>(Ke(),ze("span",{class:"navlevel-popup",ref_key:"span",ref:r},[qe("div",{ref_key:"div",ref:a},[je(c.$slots,"default",{},void 0,!0)],512)],512))}}),J=(n,i)=>{const r=n.__vccOpts||n;for(const[a,c]of i)r[a]=c;return r},Ue=J(He,[["__scopeId","data-v-ce03094f"]]),We=Vue.defineComponent,Ge=Vue.renderList,Qe=Vue.Fragment,X=Vue.openBlock,ne=Vue.createElementBlock,oe=Vue.unref,T=Vue.toDisplayString,Ze=Vue.normalizeClass,H=Vue.createElementVNode,re=Vue.createTextVNode,et=Vue.withCtx,tt=Vue.createBlock,nt=Vue.createCommentVNode,ot={class:"hlist"},rt=["href","onMouseover","onTouchstart","onFocus","title"],at=["href"];Vue.reactive;const st=Vue.ref,ae=J(We({__name:"HList",props:{levels:{},usesMwNativePopup:{type:Boolean},processPopup:{type:Function}},setup(n){const i=ge;function r(d){return Fe(d.page)}const a=st(null);function c(d){setTimeout(()=>a.value=d,200)}return(d,h)=>(X(),ne("ul",ot,[(X(!0),ne(Qe,null,Ge(n.levels,s=>(X(),ne("li",null,[H("a",{href:oe(i)(s.page)?void 0:`/wiki/${encodeURI(s.page)}`,onMouseover:w=>c(s),onTouchstart:w=>c(s),onFocus:w=>c(s),class:Ze(oe(i)(s.page)?"mw-selflink selflink":""),title:n.usesMwNativePopup?r(s):void 0},T(r(s)),43,rt),a.value===s?(X(),tt(Ue,{key:0,process:w=>n.processPopup(s,w)},{default:et(()=>[re(T(`${s.type==="ÂÆòÊñπ"?"Lv.":"Co."}${s.num} ${r(s)} ${"‚òÖ".repeat(s.stars)}`)+" ",1),h[0]||(h[0]=H("br",null,null,-1)),re(" "+T(`${s.award==="crown"?"3üëë ":s.award==="present"?"10üéÅ ":""}${s.dia}üíé`)+" ",1),h[1]||(h[1]=H("br",null,null,-1)),H("a",{href:"/wiki/"+s.inVer},T(s.inVer),9,at),re(T(`(${s.inDate||"????-??-??"})${oe(p)({hans:"ÁâàÊú¨Âä†ÂÖ•Ê∏∏Êàè",hant:"ÁâàÊú¨Âä†ÂÖ•ÈÅäÊà≤"})}`),1)]),_:2},1032,["process"])):nt("",!0)]))),256))]))}}),[["__scopeId","data-v-4c2d2632"]]),lt=Vue.useModel,ye=Vue.mergeModels,it=Vue.defineComponent,ut=Vue.renderList,Ve=Vue.Fragment,U=Vue.openBlock,W=Vue.createElementBlock,ct=Vue.toDisplayString,pt=Vue.createElementVNode,vt=Vue.createCommentVNode,dt={class:"priority-sort",role:"list","aria-label":"‰ºòÂÖàÁ∫ßÊéíÂ∫è"},mt=["onClick","onKeydown","aria-label"],ft={key:0,class:"priority-arrow","aria-hidden":"true"};Vue.computed;const se=Vue.nextTick,gt=J(it({__name:"PrioritySort",props:ye({labelMap:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:ye(["update:modelValue"],["update:modelValue"]),setup(n,{emit:i}){const r=n,a=lt(n,"modelValue"),c=i,d=g=>r.labelMap[g]||g,h=(g,v)=>{w(g.currentTarget,v),c("update:modelValue",a.value)},s=(g,v)=>{const f=g.currentTarget;switch(g.key){case"Enter":case" ":g.preventDefault(),w(f,v);break;case"ArrowLeft":g.preventDefault(),P(f,v);break;case"ArrowRight":g.preventDefault(),N(f,v);break}c("update:modelValue",a.value)},w=(g,v)=>{if(v<=0)return;const[f]=a.value.splice(v,1);a.value.unshift(f);const y=g.parentElement;se(()=>{Array.from(y?.querySelectorAll(".priority-chip")||[])[0]?.focus()})},P=(g,v)=>{if(v<=0)return;const f=g.parentElement,y=a.value[v];a.value[v]=a.value[v-1],a.value[v-1]=y,se(()=>{Array.from(f?.querySelectorAll(".priority-chip")||[])[v-1]?.focus()})},N=(g,v)=>{if(v>=a.value.length-1)return;const f=g.parentElement,y=a.value[v];a.value[v]=a.value[v+1],a.value[v+1]=y,se(()=>{Array.from(f?.querySelectorAll(".priority-chip")||[])[v+1]?.focus()})};return(g,v)=>(U(),W("div",dt,[(U(!0),W(Ve,null,ut(a.value,(f,y)=>(U(),W(Ve,{key:f},[pt("button",{type:"button",class:"priority-chip",onClick:x=>h(x,y),onKeydown:x=>s(x,y),"aria-label":`${d(f)}ÔºåÁÇπÂáªËÆæ‰∏∫Á¨¨‰∏Ä‰ºòÂÖàÁ∫ßÔºåÂ∑¶Âè≥ÁÆ≠Â§¥ÈîÆÁßªÂä®‰∏Ä‰Ωç`},ct(d(f)),41,mt),y<a.value.length-1?(U(),W("span",ft,">")):vt("",!0)],64))),128))]))}}),[["__scopeId","data-v-ca757e80"]]);function Ne(n,i){return Object.keys(n).every(r=>i.hasOwnProperty(r))}function ht(n,i,r,a,c){const d=[];if(window.NavLevel){if(window.NavLevel.Sorting&&window.NavLevel.sortingFunctions){if(!Ne(window.NavLevel.sortingFunctions,window.NavLevel.Sorting))throw new Error("Sorting methods and functions do not match.");Object.assign(n,window.NavLevel.Sorting),Object.assign(i,window.NavLevel.sortingFunctions)}for(const h in n)r.includes(h)||r.push(h);if(window.NavLevel.Grouping&&window.NavLevel.groupingFunctions){if(!Ne(window.NavLevel.groupingFunctions,window.NavLevel.Grouping))throw new Error("Grouping methods and functions do not match.");Object.assign(a,window.NavLevel.Grouping),Object.assign(c,window.NavLevel.groupingFunctions)}window.NavLevel.processPopup&&d.push(window.NavLevel.processPopup),console.log("Ê£ÄÊµãÂà∞window.NavLevelÔºåÂ∑≤ÂêàÂπ∂")}return window.NavLevel={Sorting:n,sortingFunctions:i,Grouping:a,groupingFunctions:c,set processPopup(h){d.push(h)}},(h,s)=>{d.forEach(w=>w(h,s))}}const _t=Vue.defineComponent,b=Vue.createElementVNode,m=Vue.unref,E=Vue.toDisplayString,be=Vue.withModifiers,$e=Vue.withKeys,k=Vue.createTextVNode,O=Vue.renderList,L=Vue.Fragment,_=Vue.openBlock,V=Vue.createElementBlock,G=Vue.withCtx,Ee=Vue.createBlock,B=Vue.createVNode,le=Vue.normalizeClass,Q=Vue.createCommentVNode,wt={class:"navbox-above navbox-cell navbox-sole-row"},yt=["onKeydown"],Vt={class:"navbox-above navbox-cell navbox-sole-row navlevel-nav"},Nt={class:"navlevel-radio-group"},bt={class:"navlevel-radio-group"},$t={class:"navlevel-radio-group"},Et={class:"navlevel-radio-group"},Lt={class:"navlevel-radio-group"},St={class:"navbox-group navbox-cell"},kt=["title"],xt={key:0,class:"navbox-group navbox-cell"},Ct=["title"],Pt={key:1,class:"navbox navbox-list navbox-cell navbox-level-1 mobileplainbox"},Dt={key:0,class:"navbox-group navbox-cell"},Ot=["title"],Bt=Codex.CdxCheckbox,ie=Codex.CdxRadio,It=Vue.onMounted,Le=Vue.reactive,S=Vue.ref,Se=Vue.watch,Mt=J(_t({__name:"Main",props:{recvData:{},recvLevels:{},preserveElements:{},preserveBeforeElements:{},titleElement:{}},setup(n){const i=he,{saveOptionsToStorage:r,loadOptionsFromStorage:a}=i,c=n,d=S(c.recvData),h=S(c.recvLevels),s=Le({type:p({hans:"Á±ªÂûã",hant:"È°ûÂûã"}),era:p({hans:"Êó∂Êúü",hant:"ÊôÇÊúü"}),stars:p({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),version:p({hans:"ÁâàÊú¨",hant:"ÁâàÊú¨"}),present:p({hans:"Â•ñÂä±ÊñπÂºè",hant:"ÁçéÂãµÊñπÂºè"}),year:p({hans:"Âπ¥‰ªΩ",hant:"Âπ¥‰ªΩ"}),none:p({hans:"Êó†",hant:"ÁÑ°"})});Se(s,()=>{Promise.resolve(D)});const w=Le({num:p({hans:"ÁºñÂè∑",hant:"Á∑®Ëôü"}),name:p({hans:"ÂêçÁß∞",hant:"ÂêçÁ®±"}),stars:p({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),date:p({hans:"Êó•Êúü",hant:"Êó•Êúü"}),default:p({hans:"ÈªòËÆ§",hant:"È†êË®≠"})});Se(w,()=>{Promise.resolve(D)});const P={asc:"ÂçáÂ∫è",desc:"ÈôçÂ∫è"},N=a();function g(t){return t in w}function v(t){return t in P}const f=S(N?.grouping1),y=S(N?.grouping2),x=(t,e)=>t in s?t:e,Z=S(N?.direction&&v(N.direction)?N.direction:"asc"),A=S(!1),At=["default","num","date","name","stars"],F=S(N.sortingPriority),Ft=t=>N.sortingPriority&&Array.isArray(N.sortingPriority)&&N.sortingPriority.every(e=>g(e))&&N.sortingPriority.length===Object.keys(w).length?N.sortingPriority:At,R=S(null),Y=S(null),I=S({});It(()=>{if(Y.value&&c.preserveBeforeElements?.length){let t=Y.value;c.preserveBeforeElements.forEach(e=>{e&&t.parentNode&&(t.parentNode.insertBefore(e,t),t=e)})}if(R.value&&c.preserveElements?.length){let t=R.value;c.preserveElements.forEach(e=>{e&&t&&t.parentNode&&(t.parentNode.insertBefore(e,t.nextSibling),t=e)})}R.value&&R.value.remove(),Y.value&&Y.value.remove(),D()});function Rt(t){return Ce[t]||(()=>0)}function ke(t,e){const l=Ft(F.value);for(let o=0;o<l.length;o++){const u=Rt(l[o])(t,e);if(u!==0)return u*(Z.value==="asc"?1:-1)}return 0}const xe={era(t){return[{group:"Ëæ£Ê§í",list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num<=7)},{group:p({hans:"ÁåéË±π",hant:"ÁçµË±π"}),list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num>7&&e.num<=94)},{group:p({hans:"Á±≥È∫¶",hant:"Á±≥È∫•"}),list:t.filter(e=>e.type==="ÂÖ±Âàõ"||e.type==="ÂÆòÊñπ"&&e.num>94)}]},version(t){const e=new Set;return t.forEach(o=>e.add(o.inVer.substring(0,1))),e.delete("3"),Array.from(e).sort((o,u)=>o.localeCompare(u)).map(o=>({group:o==="2"?"2.x / 3.x":o+".x",list:o==="2"?t.filter(u=>u.inVer.startsWith("2")||u.inVer.startsWith("3")):t.filter(u=>u.inVer.startsWith(o))}))},type(t){return[{group:"ÂÆòÊñπ",list:t.filter(e=>e.type==="ÂÆòÊñπ")},{group:Re(),list:t.filter(e=>e.type==="ÂÖ±Âàõ")}]},stars(t){const e=new Set;return t.forEach(o=>e.add(o.stars)),Array.from(e).sort((o,u)=>o-u).map(o=>({group:C(o.toString())+"Êòü",list:t.filter(u=>u.stars===o)}))},year(t){const e=new Set;t.forEach(u=>e.add(u.inDate.substring(0,4)));const l=new Set;return e.forEach(u=>{u.trim()===""&&l.add(u)}),l.forEach(u=>e.delete(u)),Array.from(e).sort((u,me)=>parseInt(u)-parseInt(me)).map(u=>({group:u,list:t.filter(me=>me.inDate.startsWith(u))}))},present(t){const e=t.filter(o=>!["crown","present","none"].includes(o.award)),l=[{group:"ÁöáÂÜ†",list:t.filter(o=>o.award==="crown")},{group:"Á•ûÁßòÁÆ±",list:t.filter(o=>o.award==="present")},{group:p({hans:"Êó†",hant:"ÁÑ°"}),list:t.filter(o=>o.award==="none")}];return e.length>0&&l.push({group:p({hans:"Êú™Áü•",hant:"Êú™Áü•"}),list:e}),l},none(t){return t}},Ce={num:(t,e)=>t.type===e.type?t.num-e.num:t.type==="ÂÆòÊñπ"?-1:1,name:(t,e)=>t.name.localeCompare(e.name),stars:(t,e)=>t.stars-e.stars,date:(t,e)=>t.inDate.localeCompare(e.inDate),default:(t,e)=>{const l=h.value;return l.indexOf(t.page)-l.indexOf(e.page)}},ue=ht(w,Ce,F.value,s,xe);function Yt(t,e){return xe[e](t)}function ce(t,e){return Yt(t,e).map(l=>(l.list=l.list.sort(ke),l))}let Pe=0;function D(){Pe=0;const t=x(f.value,"type"),e=x(y.value,"stars");t===e&&e!=="none"&&(y.value=t==="stars"?"type":"stars"),t==="none"&&(y.value="none"),r({grouping1:f.value,grouping2:y.value,sortingPriority:F.value,direction:Z.value});const l=d.value;if(t==="none"){I.value=[...l].sort(ke);return}else e==="none"?I.value=ce(l,t):I.value=ce(l,t).map(o=>(o.list=ce(o.list,e),o))}function pe(){return++Pe%2?"navbox-odd":"navbox-even"}async function ve(){const{levels:t,data:e}=await i.hotPurge();t?h.value=t:mw.notify(p({hans:"Ëé∑ÂèñÂêàÊ≥ïÂÖ≥Âç°ÂàóË°®Â§±Ë¥•„ÄÇ",hant:"Áç≤ÂèñÂêàÊ≥ïÈóúÂç°ÂàóË°®Â§±Êïó„ÄÇ"}),{type:"error"}),e?d.value=e:mw.notify(p({hans:`Ëé∑ÂèñÂÖ≥Âç°${z("Cargo")}Êï∞ÊçÆÂ§±Ë¥•„ÄÇ`,hant:`Áç≤ÂèñÈóúÂç°${z("Cargo")}Êï∏ÊìöÂ§±Êïó„ÄÇ`}),{type:"error"}),(t||e)&&mw?.notify?.(p({hans:`Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞„ÄÇ${C(d.value.length)}Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºå${C(h.value.length)}‰∏™ÂÖ≥Âç°„ÄÇ`,hant:`Êï∏ÊìöÂ∑≤Êõ¥Êñ∞„ÄÇ${C(d.value.length)}Ê¢ùÊï∏ÊìöË®òÈåÑÔºå${C(h.value.length)}ÂÄãÈóúÂç°„ÄÇ`})),D()}const de=p({hans:"ÂÖ≥",hant:"Èóú"});return(t,e)=>(_(),V(L,null,[b("div",{ref_key:"markerBefore",ref:Y},null,512),b("div",wt,[k(E(m(p)({hans:`Êú¨Êô∫ËÉΩÊéíÂ∫è‰∏∫ÂÆûÈ™åÊÄßÂäüËÉΩ„ÄÇÂΩìÂâçËé∑ÂèñÂà∞${m(z)(d.value.length)}‰∏™ÂÖ≥Âç°ÁöÑÊï∞ÊçÆ„ÄÇ`,hant:`Êú¨Êô∫ËÉΩÊéíÂ∫èÁÇ∫ÂØ¶È©óÊÄßÂäüËÉΩ„ÄÇÁï∂ÂâçÁç≤ÂèñÂà∞${m(z)(d.value.length)}ÂÄãÈóúÂç°ÁöÑÊï∏Êìö„ÄÇ`}))+" Ôºà",1),b("a",{onClick:ve,onKeydown:[$e(be(ve,["prevent"]),["enter"]),$e(be(ve,["prevent"]),["space"])],role:"button",tabindex:"0"},E(m(p)({hans:"Ê∏ÖÈô§ÁºìÂ≠ò",hant:"Ê∏ÖÈô§Âø´Âèñ"})),41,yt),e[6]||(e[6]=k("Ôºâ ",-1))]),b("div",Vt,[b("div",Nt,[k(E(m(p)({hans:"‰∏ÄÁ∫ßÂàÜÁªÑÔºö",hant:"‰∏ÄÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(L,null,O(s,(l,o)=>(_(),Ee(m(ie),{"model-value":f.value,"onUpdate:modelValue":[e[0]||(e[0]=u=>f.value=u),D],"input-value":o,name:"grouping1",inline:!0},{default:G(()=>[k(E(s[o]),1)]),_:2},1032,["model-value","input-value"]))),256))]),b("div",bt,[k(E(m(p)({hans:"‰∫åÁ∫ßÂàÜÁªÑÔºö",hant:"‰∫åÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(L,null,O(s,(l,o)=>(_(),Ee(m(ie),{"model-value":y.value,"onUpdate:modelValue":[e[1]||(e[1]=u=>y.value=u),D],"input-value":o,name:"grouping2",inline:!0,disabled:o!==f.value==(f.value==="none")},{default:G(()=>[k(E(s[o]),1)]),_:2},1032,["model-value","input-value","disabled"]))),256))]),b("div",$t,[k(E(m(p)({hans:"ÊéíÂ∫èÔºö",hant:"ÊéíÂ∫èÔºö"}))+" ",1),B(gt,{modelValue:F.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>F.value=l),e[3]||(e[3]=l=>D())],"label-map":w},null,8,["modelValue","label-map"])]),b("div",Et,[(_(),V(L,null,O(P,(l,o)=>B(m(ie),{name:"direction","input-value":o,"model-value":Z.value,"onUpdate:modelValue":[e[4]||(e[4]=u=>Z.value=u),D],inline:!0},{default:G(()=>[k(E(P[o]),1)]),_:2},1032,["input-value","model-value"])),64))]),b("div",Lt,[B(m(Bt),{"model-value":A.value,"onUpdate:modelValue":e[5]||(e[5]=l=>A.value=l)},{default:G(()=>[k(E(m(p)({hans:"ÊòæÁ§∫MediaWikiÂéüÁîüÂºπÂá∫Ê°Ü",hant:"È°ØÁ§∫MediaWikiÂéüÁîüÂΩàÂá∫Ê°Ü"})),1)]),_:1},8,["model-value"])])]),f.value==="none"?(_(),V("div",{key:0,class:le("navbox-list navbox-sole-row "+pe())},[B(ae,{levels:I.value,"uses-mw-native-popup":A.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","process-popup"])],2)):(_(),V(L,{key:1},[y.value==="none"?(_(!0),V(L,{key:0},O(I.value,l=>(_(),V(L,null,[b("div",St,[b("span",{class:"navbox-group-flex-inner",title:`${m(C)(l.list.length)}${m(de)}`},E(l.group),9,kt)]),b("div",{class:le("navbox-list navbox-cell "+pe())},[B(ae,{levels:l.list,"uses-mw-native-popup":A.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","process-popup"])],2)],64))),256)):(_(!0),V(L,{key:1},O(I.value,l=>(_(),V(L,null,[l.list.length>0?(_(),V("div",xt,[b("span",{class:"navbox-group-flex-inner",title:`${m(C)(l.list.reduce((o,u)=>o+u.list.length,0))}${m(de)}`},E(l.group),9,Ct)])):Q("",!0),l.list.length>0?(_(),V("div",Pt,[(_(!0),V(L,null,O(l.list,o=>(_(),V(L,null,[o.list.length>0?(_(),V("div",Dt,[b("span",{class:"navbox-group-flex-inner",title:`${m(C)(o.list.length)}${m(de)}`},E(o.group),9,Ot)])):Q("",!0),o.list.length>0?(_(),V("div",{key:1,class:le("navbox-list navbox-cell "+pe())},[B(ae,{levels:o.list,"uses-mw-native-popup":A.value,"process-popup":m(ue)},null,8,["levels","uses-mw-native-popup","process-popup"])],2)):Q("",!0)],64))),256))])):Q("",!0)],64))),256))],64)),b("div",{ref_key:"mark",ref:R},null,512)],64))}}),[["__scopeId","data-v-325ead55"]]);async function Tt(){const n=he,{getData:i,getValidLevels:r}=n;try{const[a,c]=await Promise.all([i(),r()]);if(!a||!c){mw.notify("Failed to fetch qualified data",{type:"error"});return}const d=document.querySelectorAll(".navlevel-sortable:not(.navlevel-sortable-processed)");$.each(d,async(h,s)=>{Ae(Array.from(s.querySelectorAll("a[href]")));const w=Array.from(s.querySelectorAll(".navlevel-sortable-preserve")),P=Array.from(s.querySelectorAll(".navlevel-sortable-preserve-before"));[...w,...P].forEach(v=>{v.parentNode&&v.parentNode.removeChild(v)});const N=$(s);N.empty(),N.addClass("navlevel-sortable-processed"),Vue.createApp(Mt,{recvData:a,recvLevels:c,preserveElements:w,preserveBeforeElements:P,titleElement:s.querySelector(".navbox-title")||document.createElement("div")}).mount(s)})}catch(a){console.error("Failed to initialize NavLevel:",a),mw.notify("Failed to initialize NavLevel: "+a.message,{type:"error"})}}mw.hook("wikipage.content").add(Tt)})();

  
});

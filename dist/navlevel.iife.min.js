(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".navlevel-popup[data-v-ce03094f]{position:relative}.navlevel-popup>div[data-v-ce03094f]{position:absolute;width:max-content;display:none;font-size:80%;top:0;left:0;background-color:var(--background-color, #ddd);border-radius:4px;padding:.5em;z-index:1;box-shadow:1px 1px 5px hsl(0 0 calc(100% * var(--rswiki-dark-mode-enabled, 0)))}li[data-v-d56d56a4]:hover .navlevel-popup>div,li[data-v-d56d56a4]:focus-within .navlevel-popup>div{display:block}.priority-sort[data-v-ca757e80]{display:flex;align-items:center;gap:var(--spacing-50, 8px);flex-wrap:wrap}.priority-chip[data-v-ca757e80]{display:inline-flex;align-items:center;padding:var(--spacing-25, 4px) var(--spacing-25, 4px);background-color:var(--background-color-base, #f8f9fa);border:1px solid var(--border-color-subtle, #c8ccd1);border-radius:var(--border-radius-base, 4px);color:var(--color-base, #202122);font-size:var(--font-size-small, .8125rem);font-weight:var(--font-weight-normal, 400);font-family:var(--font-family-system-sans, sans-serif);cursor:pointer;transition:all var(--transition-duration-base, .1s) var(--transition-timing-function-ease-in-out, ease-in-out);white-space:nowrap;-webkit-user-select:none;user-select:none}.priority-chip[data-v-ca757e80]:hover{background-color:var(--background-color-interactive-subtle, #eaecf0);border-color:var(--border-color-interactive, #72777d)}.priority-chip[data-v-ca757e80]:focus{outline:2px solid var(--color-progressive, #36c);outline-offset:2px}.priority-chip[data-v-ca757e80]:active{background-color:var(--background-color-interactive, #eaf3ff);border-color:var(--color-progressive, #36c)}.priority-arrow[data-v-ca757e80]{color:var(--color-subtle, #54595d);font-weight:var(--font-weight-bold, 700);margin:0 var(--spacing-25, 4px)}@media(max-width:768px){.priority-sort[data-v-ca757e80]{gap:var(--spacing-35, 6px)}.priority-arrow[data-v-ca757e80]{margin:0 var(--spacing-15, 2px)}}.navlevel-nav[data-v-6ed631f9]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.2em 1em}.navlevel-radio-group[data-v-6ed631f9]{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;padding:2px}a[role=button][data-v-6ed631f9]{cursor:pointer}.navlevel-sortable .navbox-title{z-index:1}.navbox.navlevel-sortable,.navlevel-sortable .navbox{overflow:visible!important}")),document.head.appendChild(a)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();

/// <reference types="types-mediawiki" />
/// <reference types="types-mediawiki-api" />
mw.loader.using(["vue", "@wikimedia/codex", "ext.gadget.HanAssist"], function(require) {
  const vueModule = require("vue");
  const codexModule = require("@wikimedia/codex");
  
  
  const Vue = vueModule;
  const Codex = codexModule;
  
  // ÂéüÂßã‰ª£Á†Å
  (function(){"use strict";const U="rswiki:NavLevel-data",te="rswiki:NavLevel-levels",z="rswiki:NavLevel-expiry",me="rswiki:NavLevel-options",Ie="https://rs.miraheze.org/";async function J(){const n=await new mw.Api().get({action:"cargoquery",formatversion:2,tables:"Level, Version",fields:"Level.name_zh = name, Level.num = num, Level._pageName = page, Level.type = type, Level.stars = stars, Level.first_came_version = inVer, Level.removed_version = remVer, Level.restored_version = resVer, Level.award = award, Level.diamonds = dia, Version.date = inDate",where:"Level.stars IS NOT NULL AND(Level.type = 'ÂÆòÊñπ' OR Level.type = 'ÂÖ±Âàõ') AND Level._pageName NOT LIKE '%ÔºàÊóßÔºâ'",join_on:"Level.first_came_version = Version._pageName",limit:500});if(!n.cargoquery)return null;const i=n.cargoquery.map(a=>({num:Number(a.title.num),stars:Number(a.title.stars),inVer:a.title.inVer,remVer:a.title.remVer,resVer:a.title.resVer,inDate:a.title.inDate,type:a.title.type,page:a.title.page,name:a.title.name,award:a.title.award,dia:Number(a.title.dia)}));return i.length<210?null:i}async function Me(){const n=localStorage.getItem(U);let i;try{if(!n)throw new Error("No data");i=JSON.parse(n)}catch{}const a=localStorage.getItem(z);if(a&&Number(a)&&Number(a)<Date.now()){console.log("Expired, fetching new data");const r=await J();return r?(localStorage.setItem(U,JSON.stringify(r)),localStorage.setItem(z,String(Date.now()+432e5)),r):i}return i||(i=await J(),i&&(localStorage.setItem(U,JSON.stringify(i)),localStorage.setItem(z,String(Date.now()+432e5))),i)}async function ne(){const n=await fetch(Ie+"wiki/Module:NavLevel/levels?action=raw");if(!n.ok)return null;const a=(await n.text()).replace(/^return\s+/,"").replace(/\{/g,"[").replace(/\}/g,"]").replace(/\-\-.*?\n/g,"");try{return JSON.parse(a)}catch{return null}}async function Te(){let n=mw.storage.getObject(te);return n||(n=await ne(),mw.storage.setObject(te,n,43200),n)}function Ae(n){mw.storage.setObject(me,n)}function Fe(){const n=mw.storage.getObject(me);return n||null}function ge(n){return mw.config.get("wgPageName").replace(/_/g," ")===n.replace(/_/g," ")}async function Re(){const n=await ne(),i=await J();return n&&mw.storage.setObject(te,n,43200),i&&(localStorage.setItem(U,JSON.stringify(i)),localStorage.setItem(z,String(Date.now()+432e5))),{levels:n,data:i}}const he=Object.freeze(Object.defineProperty({__proto__:null,fetchData:J,fetchLevels:ne,getData:Me,getValidLevels:Te,hotPurge:Re,isCurrentPage:ge,loadOptionsFromStorage:Fe,saveOptionsToStorage:Ae},Symbol.toStringTag,{value:"Module"}));let c;({convByVar:c}=require("ext.gadget.HanAssist"));const A=new Map;function je(n){for(const i of n){const a=i.textContent.trim(),r=decodeURI(i.href.split("wiki/")[1]);A.set(r,a),A.set(a,a),A.set(r.replace(/_/g," "),a),A.set(a.replace(/_/g," "),a)}}function Ye(n){return A.get(n)||n}function qe(n){return c({hans:"ÂÖ±Âàõ",hant:"ÂÖ±Ââµ"})}const we=mw.loader.getState("ext.gadget.separate-space")==="ready";function W(n){return we?" "+n+" ":n}function C(n){return we?n+" ":n}const Ke=Vue.defineComponent,Ue=Vue.renderSlot,ze=Vue.createElementVNode,Je=Vue.openBlock,We=Vue.createElementBlock,Xe=Vue.nextTick,He=Vue.onMounted,_e=Vue.ref,Ge=Ke({__name:"Popup",props:{process:{type:Function}},setup(n){const i=n,a=_e(null),r=_e(null);return He(async()=>{await Xe();const p=r.value,v=p.getBoundingClientRect();v.right>window.innerWidth&&(p.style.top="100%",p.style.left=`${window.innerWidth-v.right-15}px`),v.y<window.innerHeight/2&&(p.style.bottom="100%",p.style.top="unset"),i.process(p)}),(p,v)=>(Je(),We("span",{class:"navlevel-popup",ref_key:"span",ref:a},[ze("div",{ref_key:"div",ref:r},[Ue(p.$slots,"default",{},void 0,!0)],512)],512))}}),X=(n,i)=>{const a=n.__vccOpts||n;for(const[r,p]of i)a[r]=p;return a},Qe=X(Ge,[["__scopeId","data-v-ce03094f"]]),Ze=Vue.defineComponent,et=Vue.renderList,tt=Vue.Fragment,H=Vue.openBlock,oe=Vue.createElementBlock,ae=Vue.unref,P=Vue.toDisplayString,nt=Vue.normalizeClass,F=Vue.createElementVNode,ye=Vue.createTextVNode,ot=Vue.withCtx,at=Vue.createBlock,rt=Vue.createCommentVNode,st={class:"hlist"},lt=["href","onMouseover","onTouchstart","onFocus","title"],it={style:{"font-weight":"bold"}},ut=["href"];Vue.reactive;const ct=Vue.ref,re=X(Ze({__name:"HList",props:{levels:{},usesMwNativePopup:{type:Boolean},showsBirthday:{type:Boolean},processPopup:{type:Function}},setup(n){const i=ge;function a(v){return Ye(v.page)}const r=ct(null);function p(v){setTimeout(()=>r.value=v,200)}return(v,h)=>(H(),oe("ul",st,[(H(!0),oe(tt,null,et(n.levels,s=>(H(),oe("li",null,[F("a",{href:ae(i)(s.page)?void 0:`/wiki/${encodeURI(s.page)}`,onMouseover:w=>p(s),onTouchstart:w=>p(s),onFocus:w=>p(s),class:nt(ae(i)(s.page)?"mw-selflink selflink":""),title:n.usesMwNativePopup?a(s):void 0},P(a(s))+P(!n.showsBirthday||s.inDate.startsWith("?")?"":s.inDate.substring(5,10)===new Date().toISOString().substring(5,10)?"üéÇ":""),43,lt),r.value===s?(H(),at(Qe,{key:0,process:w=>n.processPopup(s,w)},{default:ot(()=>[F("span",it,P(`${s.type==="ÂÆòÊñπ"?"Lv.":"Co."}${s.num} ${a(s)} ${"‚òÖ".repeat(s.stars)}`),1),h[0]||(h[0]=F("br",null,null,-1)),ye(" "+P(`${s.award==="crown"?"3üëë ":s.award==="present"?"10üéÅ ":""}${s.dia}üíé`)+" ",1),h[1]||(h[1]=F("br",null,null,-1)),F("a",{href:"/wiki/"+s.inVer},P(s.inVer),9,ut),ye(P(`(${s.inDate||"????-??-??"})${ae(c)({hans:"ÁâàÊú¨Âä†ÂÖ•Ê∏∏Êàè",hant:"ÁâàÊú¨Âä†ÂÖ•ÈÅäÊà≤"})}`),1)]),_:2},1032,["process"])):rt("",!0)]))),256))]))}}),[["__scopeId","data-v-d56d56a4"]]),pt=Vue.useModel,Ve=Vue.mergeModels,dt=Vue.defineComponent,vt=Vue.renderList,be=Vue.Fragment,G=Vue.openBlock,Q=Vue.createElementBlock,ft=Vue.toDisplayString,mt=Vue.createElementVNode,gt=Vue.createCommentVNode,ht={class:"priority-sort",role:"list","aria-label":"‰ºòÂÖàÁ∫ßÊéíÂ∫è"},wt=["onClick","onKeydown","aria-label"],_t={key:0,class:"priority-arrow","aria-hidden":"true"};Vue.computed;const se=Vue.nextTick,yt=X(dt({__name:"PrioritySort",props:Ve({labelMap:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:Ve(["update:modelValue"],["update:modelValue"]),setup(n,{emit:i}){const a=n,r=pt(n,"modelValue"),p=i,v=g=>a.labelMap[g]||g,h=(g,d)=>{w(g.currentTarget,d),p("update:modelValue",r.value)},s=(g,d)=>{const m=g.currentTarget;switch(g.key){case"Enter":case" ":g.preventDefault(),w(m,d);break;case"ArrowLeft":g.preventDefault(),D(m,d);break;case"ArrowRight":g.preventDefault(),S(m,d);break}p("update:modelValue",r.value)},w=(g,d)=>{if(d<=0)return;const[m]=r.value.splice(d,1);r.value.unshift(m);const y=g.parentElement;se(()=>{Array.from(y?.querySelectorAll(".priority-chip")||[])[0]?.focus()})},D=(g,d)=>{if(d<=0)return;const m=g.parentElement,y=r.value[d];r.value[d]=r.value[d-1],r.value[d-1]=y,se(()=>{Array.from(m?.querySelectorAll(".priority-chip")||[])[d-1]?.focus()})},S=(g,d)=>{if(d>=r.value.length-1)return;const m=g.parentElement,y=r.value[d];r.value[d]=r.value[d+1],r.value[d+1]=y,se(()=>{Array.from(m?.querySelectorAll(".priority-chip")||[])[d+1]?.focus()})};return(g,d)=>(G(),Q("div",ht,[(G(!0),Q(be,null,vt(r.value,(m,y)=>(G(),Q(be,{key:m},[mt("button",{type:"button",class:"priority-chip",onClick:x=>h(x,y),onKeydown:x=>s(x,y),"aria-label":`${v(m)}ÔºåÁÇπÂáªËÆæ‰∏∫Á¨¨‰∏Ä‰ºòÂÖàÁ∫ßÔºåÂ∑¶Âè≥ÁÆ≠Â§¥ÈîÆÁßªÂä®‰∏Ä‰Ωç`},ft(v(m)),41,wt),y<r.value.length-1?(G(),Q("span",_t,">")):gt("",!0)],64))),128))]))}}),[["__scopeId","data-v-ca757e80"]]);function Ne(n,i){return Object.keys(n).every(a=>i.hasOwnProperty(a))}function Vt(n,i,a,r,p){const v=[];if(window.NavLevel){if(window.NavLevel.Sorting&&window.NavLevel.sortingFunctions){if(!Ne(window.NavLevel.sortingFunctions,window.NavLevel.Sorting))throw new Error("Sorting methods and functions do not match.");Object.assign(n,window.NavLevel.Sorting),Object.assign(i,window.NavLevel.sortingFunctions)}for(const h in n)a.includes(h)||a.push(h);if(window.NavLevel.Grouping&&window.NavLevel.groupingFunctions){if(!Ne(window.NavLevel.groupingFunctions,window.NavLevel.Grouping))throw new Error("Grouping methods and functions do not match.");Object.assign(r,window.NavLevel.Grouping),Object.assign(p,window.NavLevel.groupingFunctions)}window.NavLevel.processPopup&&v.push(window.NavLevel.processPopup),console.log("Ê£ÄÊµãÂà∞window.NavLevelÔºåÂ∑≤ÂêàÂπ∂")}return window.NavLevel={Sorting:n,sortingFunctions:i,Grouping:r,groupingFunctions:p,set processPopup(h){v.push(h)}},(h,s)=>{v.forEach(w=>w(h,s))}}const bt=Vue.defineComponent,b=Vue.createElementVNode,f=Vue.unref,N=Vue.toDisplayString,Se=Vue.withModifiers,$e=Vue.withKeys,k=Vue.createTextVNode,I=Vue.renderList,E=Vue.Fragment,_=Vue.openBlock,V=Vue.createElementBlock,R=Vue.withCtx,Ee=Vue.createBlock,O=Vue.createVNode,le=Vue.normalizeClass,Z=Vue.createCommentVNode,Nt={class:"navbox-above navbox-cell navbox-sole-row"},St=["onKeydown"],$t={class:"navbox-above navbox-cell navbox-sole-row navlevel-nav"},Et={class:"navlevel-radio-group"},Lt={class:"navlevel-radio-group"},kt={class:"navlevel-radio-group"},xt={class:"navlevel-radio-group"},Ct={class:"navlevel-radio-group"},Dt={class:"navbox-group navbox-cell"},Bt=["title"],Ot={key:0,class:"navbox-group navbox-cell"},Pt=["title"],It={key:1,class:"navbox navbox-list navbox-cell navbox-level-1 mobileplainbox"},Mt={key:0,class:"navbox-group navbox-cell"},Tt=["title"],Le=Codex.CdxCheckbox,ie=Codex.CdxRadio,At=Vue.onBeforeUpdate,Ft=Vue.onMounted,ke=Vue.reactive,L=Vue.ref,xe=Vue.watch,Rt=X(bt({__name:"Main",props:{recvData:{},recvLevels:{},preserveElements:{},preserveBeforeElements:{},titleElement:{}},setup(n){const i=he,{saveOptionsToStorage:a,loadOptionsFromStorage:r}=i,p=n,v=L(p.recvData),h=L(p.recvLevels),s=ke({type:c({hans:"Á±ªÂûã",hant:"È°ûÂûã"}),era:c({hans:"Êó∂Êúü",hant:"ÊôÇÊúü"}),stars:c({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),version:c({hans:"ÁâàÊú¨",hant:"ÁâàÊú¨"}),present:c({hans:"Â•ñÂä±ÊñπÂºè",hant:"ÁçéÂãµÊñπÂºè"}),year:c({hans:"Âπ¥‰ªΩ",hant:"Âπ¥‰ªΩ"}),none:c({hans:"Êó†",hant:"ÁÑ°"})});xe(s,()=>{Promise.resolve().then(B)});const w=ke({num:c({hans:"ÁºñÂè∑",hant:"Á∑®Ëôü"}),name:c({hans:"ÂêçÁß∞",hant:"ÂêçÁ®±"}),stars:c({hans:"ÊòüÊï∞",hant:"ÊòüÊï∏"}),date:c({hans:"Êó•Êúü",hant:"Êó•Êúü"}),default:c({hans:"ÈªòËÆ§",hant:"È†êË®≠"})});xe(w,()=>{Promise.resolve().then(B)});const D={asc:"ÂçáÂ∫è",desc:"ÈôçÂ∫è"},S=r();function g(t){return t in w}function d(t){return t in D}const m=L(S?.grouping1??"type"),y=L(S?.grouping2??"stars"),x=(t,e)=>t in s?t:e,ee=L(S?.direction&&d(S.direction)?S.direction:"asc"),j=L(!1),M=L(S?.showsBirthday??!1),Ce=["default","num","date","name","stars"],Y=L(S?.sortingPriority??Ce),Yt=t=>t.some(e=>!g(e))?Ce:(t.length!==Object.keys(w).length&&t.push(...Object.keys(w).filter(e=>!t.includes(e))),t),q=L(null),K=L(null),T=L({});Ft(()=>{if(K.value&&p.preserveBeforeElements?.length){let t=K.value;p.preserveBeforeElements.forEach(e=>{e&&t.parentNode&&(t.parentNode.insertBefore(e,t),t=e)})}if(q.value&&p.preserveElements?.length){let t=q.value;p.preserveElements.forEach(e=>{e&&t&&t.parentNode&&(t.parentNode.insertBefore(e,t.nextSibling),t=e)})}q.value&&q.value.remove(),K.value&&K.value.remove(),B()});function qt(t){return Oe[t]||(()=>0)}function De(t,e){const l=Yt(Y.value);for(let o=0;o<l.length;o++){const u=qt(l[o])(t,e);if(u!==0)return u*(ee.value==="asc"?1:-1)}return 0}const Be={era(t){return[{group:"Ëæ£Ê§í",list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num<=7)},{group:c({hans:"ÁåéË±π",hant:"ÁçµË±π"}),list:t.filter(e=>e.type==="ÂÆòÊñπ"&&e.num>7&&e.num<=94)},{group:c({hans:"Á±≥È∫¶",hant:"Á±≥È∫•"}),list:t.filter(e=>e.type==="ÂÖ±Âàõ"||e.type==="ÂÆòÊñπ"&&e.num>94)}]},version(t){const e=new Set;return t.forEach(o=>e.add(o.inVer.substring(0,1))),e.delete("3"),Array.from(e).sort((o,u)=>o.localeCompare(u)).map(o=>({group:o==="2"?"2.x / 3.x":o+".x",list:o==="2"?t.filter(u=>u.inVer.startsWith("2")||u.inVer.startsWith("3")):t.filter(u=>u.inVer.startsWith(o))}))},type(t){return[{group:"ÂÆòÊñπ",list:t.filter(e=>e.type==="ÂÆòÊñπ")},{group:qe(),list:t.filter(e=>e.type==="ÂÖ±Âàõ")}]},stars(t){const e=new Set;return t.forEach(o=>e.add(o.stars)),Array.from(e).sort((o,u)=>o-u).map(o=>({group:C(o.toString())+"Êòü",list:t.filter(u=>u.stars===o)}))},year(t){const e=new Set;t.forEach(u=>e.add(u.inDate.substring(0,4)));const l=new Set;return e.forEach(u=>{u.trim()===""&&l.add(u)}),l.forEach(u=>e.delete(u)),Array.from(e).sort((u,fe)=>parseInt(u)-parseInt(fe)).map(u=>({group:u,list:t.filter(fe=>fe.inDate.startsWith(u))}))},present(t){const e=t.filter(o=>!["crown","present","none"].includes(o.award)),l=[{group:"ÁöáÂÜ†",list:t.filter(o=>o.award==="crown")},{group:"Á•ûÁßòÁÆ±",list:t.filter(o=>o.award==="present")},{group:c({hans:"Êó†",hant:"ÁÑ°"}),list:t.filter(o=>o.award==="none")}];return e.length>0&&l.push({group:c({hans:"Êú™Áü•",hant:"Êú™Áü•"}),list:e}),l},none(t){return t}},Oe={num:(t,e)=>t.type===e.type?t.num-e.num:t.type==="ÂÆòÊñπ"?-1:1,name:(t,e)=>t.name.localeCompare(e.name),stars:(t,e)=>t.stars-e.stars,date:(t,e)=>t.inDate.localeCompare(e.inDate),default:(t,e)=>{const l=h.value;return l.indexOf(t.page)-l.indexOf(e.page)}},ue=Vt(w,Oe,Y.value,s,Be);function Kt(t,e){return Be[e](t)}function ce(t,e){return Kt(t,e).map(l=>(l.list=l.list.sort(De),l))}let Pe=0;const Ut=()=>{Pe=0};function B(){console.log("Sorting...");const t=x(m.value,"type"),e=x(y.value,"stars");t===e&&e!=="none"&&(y.value=t==="stars"?"type":"stars"),t==="none"&&(y.value="none"),a({grouping1:m.value,grouping2:y.value,sortingPriority:Y.value,direction:ee.value,showsBirthday:M.value});const l=v.value;if(t==="none"){T.value=[...l].sort(De);return}else e==="none"?T.value=ce(l,t):T.value=ce(l,t).map(o=>(o.list=ce(o.list,e),o))}function pe(){return++Pe%2?"navbox-odd":"navbox-even"}async function de(){const{levels:t,data:e}=await i.hotPurge();t?h.value=t:mw.notify(c({hans:"Ëé∑ÂèñÂêàÊ≥ïÂÖ≥Âç°ÂàóË°®Â§±Ë¥•„ÄÇ",hant:"Áç≤ÂèñÂêàÊ≥ïÈóúÂç°ÂàóË°®Â§±Êïó„ÄÇ"}),{type:"error"}),e?v.value=e:mw.notify(c({hans:`Ëé∑ÂèñÂÖ≥Âç°${W("Cargo")}Êï∞ÊçÆÂ§±Ë¥•„ÄÇ`,hant:`Áç≤ÂèñÈóúÂç°${W("Cargo")}Êï∏ÊìöÂ§±Êïó„ÄÇ`}),{type:"error"}),(t||e)&&mw?.notify?.(c({hans:`Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞„ÄÇ${C(v.value.length)}Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºå${C(h.value.length)}‰∏™ÂÖ≥Âç°„ÄÇ`,hant:`Êï∏ÊìöÂ∑≤Êõ¥Êñ∞„ÄÇ${C(v.value.length)}Ê¢ùÊï∏ÊìöË®òÈåÑÔºå${C(h.value.length)}ÂÄãÈóúÂç°„ÄÇ`})),B()}At(()=>{Ut()});const ve=c({hans:"ÂÖ≥",hant:"Èóú"});return(t,e)=>(_(),V(E,null,[b("div",{ref_key:"markerBefore",ref:K},null,512),b("div",Nt,[k(N(f(c)({hans:`Êú¨Êô∫ËÉΩÊéíÂ∫è‰∏∫ÂÆûÈ™åÊÄßÂäüËÉΩ„ÄÇÂΩìÂâçËé∑ÂèñÂà∞${f(W)(v.value.length)}‰∏™ÂÖ≥Âç°ÁöÑÊï∞ÊçÆ„ÄÇ`,hant:`Êú¨Êô∫ËÉΩÊéíÂ∫èÁÇ∫ÂØ¶È©óÊÄßÂäüËÉΩ„ÄÇÁï∂ÂâçÁç≤ÂèñÂà∞${f(W)(v.value.length)}ÂÄãÈóúÂç°ÁöÑÊï∏Êìö„ÄÇ`}))+" Ôºà",1),b("a",{onClick:de,onKeydown:[$e(Se(de,["prevent"]),["enter"]),$e(Se(de,["prevent"]),["space"])],role:"button",tabindex:"0"},N(f(c)({hans:"Ê∏ÖÈô§ÁºìÂ≠ò",hant:"Ê∏ÖÈô§Âø´Âèñ"})),41,St),e[7]||(e[7]=k("Ôºâ ",-1))]),b("div",$t,[b("div",Et,[k(N(f(c)({hans:"‰∏ÄÁ∫ßÂàÜÁªÑÔºö",hant:"‰∏ÄÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(E,null,I(s,(l,o)=>(_(),Ee(f(ie),{"model-value":m.value,"onUpdate:modelValue":[e[0]||(e[0]=u=>m.value=u),B],"input-value":o,name:"grouping1",inline:!0},{default:R(()=>[k(N(s[o]),1)]),_:2},1032,["model-value","input-value"]))),256))]),b("div",Lt,[k(N(f(c)({hans:"‰∫åÁ∫ßÂàÜÁªÑÔºö",hant:"‰∫åÁ¥öÂàÜÁµÑÔºö"}))+" ",1),(_(!0),V(E,null,I(s,(l,o)=>(_(),Ee(f(ie),{"model-value":y.value,"onUpdate:modelValue":[e[1]||(e[1]=u=>y.value=u),B],"input-value":o,name:"grouping2",inline:!0,disabled:o!==m.value==(m.value==="none")},{default:R(()=>[k(N(s[o]),1)]),_:2},1032,["model-value","input-value","disabled"]))),256))]),b("div",kt,[k(N(f(c)({hans:"ÊéíÂ∫èÔºö",hant:"ÊéíÂ∫èÔºö"}))+" ",1),O(yt,{modelValue:Y.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>Y.value=l),e[3]||(e[3]=l=>B())],"label-map":w},null,8,["modelValue","label-map"])]),b("div",xt,[(_(),V(E,null,I(D,(l,o)=>O(f(ie),{name:"direction","input-value":o,"model-value":ee.value,"onUpdate:modelValue":[e[4]||(e[4]=u=>ee.value=u),B],inline:!0},{default:R(()=>[k(N(D[o]),1)]),_:2},1032,["input-value","model-value"])),64))]),b("div",Ct,[O(f(Le),{inline:!0,"model-value":j.value,"onUpdate:modelValue":e[5]||(e[5]=l=>j.value=l)},{default:R(()=>[k(N(f(c)({hans:"ÊòæÁ§∫MediaWikiÂéüÁîüÂºπÂá∫Ê°Ü",hant:"È°ØÁ§∫MediaWikiÂéüÁîüÂΩàÂá∫Ê°Ü"})),1)]),_:1},8,["model-value"]),O(f(Le),{inline:!0,"model-value":M.value,"onUpdate:modelValue":e[6]||(e[6]=l=>M.value=l)},{default:R(()=>[k(N(f(c)({hans:"Ê†áËÆ∞ÁîüÊó•Âú®‰ªäÊó•ÁöÑÂÖ≥Âç°",hant:"Ê®ôË®òÁîüÊó•Âú®‰ªäÊó•ÁöÑÈóúÂç°"})),1)]),_:1},8,["model-value"])])]),m.value==="none"?(_(),V("div",{key:0,class:le("navbox-list navbox-sole-row "+pe())},[O(re,{levels:T.value,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":f(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)):(_(),V(E,{key:1},[y.value==="none"?(_(!0),V(E,{key:0},I(T.value,l=>(_(),V(E,null,[b("div",Dt,[b("span",{class:"navbox-group-flex-inner",title:`${f(C)(l.list.length)}${f(ve)}`},N(l.group),9,Bt)]),b("div",{class:le("navbox-list navbox-cell "+pe())},[O(re,{levels:l.list,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":f(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)],64))),256)):(_(!0),V(E,{key:1},I(T.value,l=>(_(),V(E,null,[l.list.length>0?(_(),V("div",Ot,[b("span",{class:"navbox-group-flex-inner",title:`${f(C)(l.list.reduce((o,u)=>o+u.list.length,0))}${f(ve)}`},N(l.group),9,Pt)])):Z("",!0),l.list.length>0?(_(),V("div",It,[(_(!0),V(E,null,I(l.list,o=>(_(),V(E,null,[o.list.length>0?(_(),V("div",Mt,[b("span",{class:"navbox-group-flex-inner",title:`${f(C)(o.list.length)}${f(ve)}`},N(o.group),9,Tt)])):Z("",!0),o.list.length>0?(_(),V("div",{key:1,class:le("navbox-list navbox-cell "+pe())},[O(re,{levels:o.list,"uses-mw-native-popup":j.value,"shows-birthday":M.value,"process-popup":f(ue)},null,8,["levels","uses-mw-native-popup","shows-birthday","process-popup"])],2)):Z("",!0)],64))),256))])):Z("",!0)],64))),256))],64)),b("div",{ref_key:"mark",ref:q},null,512)],64))}}),[["__scopeId","data-v-6ed631f9"]]);async function jt(){const n=he,{getData:i,getValidLevels:a}=n;try{const[r,p]=await Promise.all([i(),a()]);if(!r||!p){mw.notify("Failed to fetch qualified data",{type:"error"});return}const v=document.querySelectorAll(".navlevel-sortable:not(.navlevel-sortable-processed)");$.each(v,async(h,s)=>{je(Array.from(s.querySelectorAll("a[href]")));const w=Array.from(s.querySelectorAll(".navlevel-sortable-preserve")),D=Array.from(s.querySelectorAll(".navlevel-sortable-preserve-before"));[...w,...D].forEach(d=>{d.parentNode&&d.parentNode.removeChild(d)});const S=$(s);S.empty(),S.addClass("navlevel-sortable-processed"),Vue.createApp(Rt,{recvData:r,recvLevels:p,preserveElements:w,preserveBeforeElements:D,titleElement:s.querySelector(".navbox-title")||document.createElement("div")}).mount(s)})}catch(r){console.error("Failed to initialize NavLevel:",r),mw.notify("Failed to initialize NavLevel: "+r.message,{type:"error"})}}mw.hook("wikipage.content").add(jt)})();

  
});
